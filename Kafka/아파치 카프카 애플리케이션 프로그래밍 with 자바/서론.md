
## Kafka의 탄생

* 링크드인
* 아키텍처가 거대해지고 통신하는 애플리케이션의 개수가 점점 많아지면서 문제가 발생.
* 다양한 메시징 플랫폼과 ETL(Extract Transform Load) 툴을 적용했지만 실패.
* 한 곳에 모아 처리 => 중앙집중화
* FIFO(First In First Out) 방식의 큐 자료구조와 유사.
* 프로듀서: 큐에 데이터를 보내는 것
* 컨슈머: 데이터를 가져가는 것
* 데이터 포맷은 제한이 없다.
* 직렬화, 역직렬화를 통해 ByteArray로 통신.

## 빅데이터 파이프라인에서 카프카의 역할

* 빅데이터: IT서비스는 디지털 정보로 기록되는 모든 것을 저장함. 최소 테라바이트 단위를 넘어서 엑사바이트를 웃도는 양의 데이터들.
* 데이터 레이크: 데이터가 모이는 저장 공간.
* 엔드 투 엔드 방식으로 넣다보면 규모가 커지게됨.
* 데이터 파이프라인: 데이터 추출, 변경, 적재하는 과정의 묶음

### 카프카 장점
#### 높은 처리량
* 데이터를 주고 받을때 묶어서 전송
* 파티션 단위를 통해 동일 목적의 데이터를 여러 파티션에 분배 
* 데이터를 병렬처리
#### 확장성
* 데이터가 적을 때는 카프카 클러스터의 브로커를 최소한의 개수로 운영.
* 데이터 많아지면 클러스터의 브로커 개수를 늘려 스케일 아웃(스케일 인도 가능).
* 무중단 운영 지원
#### 영속성
- 영속성: 프로그램이 종료되더라도 사라지지 않은 데이터의 특성
- 메모리에 저장하지 않음. 파일 시스템에 저장.
- 운영체제 레벨에서 파일 시스템을 활용.
- 페이지 캐시 영역을 메모리에 따로 생성하여 사용.
#### 고가용성
- 3개 이상의 서버들로 운영
- 프로듀싱된 데이터를 여러 브로커에 저장.


## 데이터 레이크 아키텍처와 카프카의 미래

#### 람다 아키텍처
- 레거시 데이터 수집 플랫폼을 개선하기 위한 이키텍처.
- 배치 레이어: 배치 데이터를 모아서 특정 시간, 타이밍마다 일괄 처리.
- 서빙 레이어: 가공된 데이터를 사용자, 서비스 애플리케이션이 사용할 수 있도록 데이터가 저장된 공간.
- 스피드 레이어: 생성되는 원천데이터를 실시간으로 분석하는 용도로 사용.
	- 카프카의 위치
#### 카파 아키텍처
- 배치 레이어의 기능을 스피드 레이어에서 모두 처리
- 모든 데이터를 로그로 바라보는것에서 시작
- 데이터에 일정한 번호가 붙는다.
- 스피드 레이어와 서빙 레이어로 구성
#### 스트리밍 데이터 레이크
- 스피드 레이어에서 데이터 분석, 프로세싱, 저장.
- 단일 진실 공급원(SSOT, Single Source Of Truth).
- 


